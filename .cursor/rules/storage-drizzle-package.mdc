---
globs: durable-execution-storage-drizzle/**
description: Drizzle storage adapters (PostgreSQL, SQLite)
---
### Drizzle storage (`durable-execution-storage-drizzle`)

PostgreSQL: [src/pg.ts](mdc:durable-execution-storage-drizzle/src/pg.ts)

- `createTaskExecutionsPgTable(name?)`
- `createPgStorage(db, table)`

SQLite: [src/sqlite.ts](mdc:durable-execution-storage-drizzle/src/sqlite.ts)

- `createTaskExecutionsSQLiteTable(name?)`
- `createSQLiteStorage(db, table)`

Shared transforms: [src/common.ts](mdc:durable-execution-storage-drizzle/src/common.ts)

Indexes to ensure performance:

- unique on `execution_id`
- `(status, isClosed, expiresAt)`, `(status, startAt)`

See examples in [README.md](mdc:durable-execution-storage-drizzle/README.md)
